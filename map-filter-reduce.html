<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Map Filter Reduce</title>
</head>
<body>
<script>
/**this is an array of objects with key value, pairs*/
    const users = [
        {
            id: 1,
            name: 'ryan',
            email: 'ryan@codeup.com',
            languages: ['clojure', 'javascript'],
            yearsOfExperience: 5
        },
        {
            id: 2,
            name: 'luis',
            email: 'luis@codeup.com',
            languages: ['java', 'scala', 'php'],
            yearsOfExperience: 6
        },
        {
            id: 3,
            name: 'zach',
            email: 'zach@codeup.com',
            languages: ['javascript', 'bash'],
            yearsOfExperience: 7
        },
        {
            id: 4,
            name: 'fernando',
            email: 'fernando@codeup.com',
            languages: ['java', 'php', 'sql'],
            yearsOfExperience: 8
        },
        {
            id: 5,
            name: 'justin',
            email: 'justin@codeup.com',
            languages: ['html', 'css', 'javascript', 'php'],
            yearsOfExperience: 9
        }
    ];

//     const getShortMessages = users => users
//         .filter(users => users.email.length <= 3);
//         // .map(users => users.email);
// console.log(getShortMessages(users));
 /**   Create a file named map-filter-reduce.js in your js directory and copy the users data below into it.*/


 /**Use .filter to create an array of user objects where each user object has at least 3 languages in the languages array*/


  let languages = users.filter(user => user.languages.length >= 3);
    console.log(languages);

/** Use .map to create an array of strings where each element is a user's email address
 *  * old way
 * let addressList = users.map(function(user) {
 *     return user.email;
 * });*/

let newAddress = users.map(user => user.email);

console.log(newAddress);
/**Use .reduce to get the total years of experience from the list of users. Once you get the total of years you can use the result to calculate the average.*/


let sum = users.reduce((total, person) => {
    return total + person.yearsOfExperience;
}, 0);


console.log(sum / users.length)

/** es6 way
  users.reduce((runningTotal, user) => {
  return runningTotal += user.yearsOfExperience;
  },0);
 console.log(`Total years of experience: ${totalYears}
 Average: ${totalYears/users.length}`);
 /**Use .reduce to get the longest email from the list of users.*/


let longestEmail = users.reduce((longestSoFar, user) => {
    if (user.email.length > longestSoFar.length)
    return  user.email;
   else return longestSoFar
}, "");
console.log(longestEmail);








/**Use .reduce to get the list of user's names in a single string. Example: Your instructors are: ryan, luis, zach, fernando, justin.*/

let allNames = users.reduce(function(accumulator, currentValue){

    return (accumulator + ' ' + currentValue.name)
});
console.log(allNames);

    // function groupBy(objectArray, property) {
    //     return objectArray.reduce(function (acc, obj) {
    //         let key = obj[property]
    //         if (!acc[key]) {
    //             acc[key] = []
    //         }
    //         acc[key].push(obj)
    //         return acc
    //     }, {})
    // }
    //
    // let groupedPeople = groupBy(users, 'name');
    //
    // console.log(groupedPeople);






</script>

</body>
</html>